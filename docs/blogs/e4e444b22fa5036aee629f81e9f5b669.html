<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv='content-language' content='en'>
        <title>How to install and use Plan 9 on Mac VM Fusion</title>
        <link rel="icon" type="image/x-icon" href="/assets/images/icon.png">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name='description' content='I encountered many problems when using VM Fusion to install Plan 9 on Mac. The official documents and some foreign blogs from the past two years were not clear, and even misleading (some situations have changed). So I am writing this article to help others who also encounter the same problem.'>
        
        <link rel="stylesheet" type="text/css" href="/assets/css/headerstyle.css" />
        <link rel="stylesheet" type="text/css" href="/assets/css/blogstyle.css" />
        <link rel="stylesheet" type="text/css" href="/assets/css/style.css" />
        
        
        <!-- Clarity tracking code for https://zhonguncle.github.io/ -->
        <script type="text/javascript">
            (function(c,l,a,r,i,t,y){
                c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
                t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
                y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
            })(window, document, "clarity", "script", "ky7zebz4nm");
        </script>
    </head>
    <body>
        <div class="stackedit__html">
            <!-- 这个文件里是用来生成导航栏的 -->
<div class="header">
    
        <a href="/index.html" class="headerItem">
            主页
        </a>
    
        <a href="/swift.html" class="headerItem">
            Swift
        </a>
    
        <a href="/unix.html" class="headerItem">
            UNIX
        </a>
    
        <a href="/c.html" class="headerItem">
            C
        </a>
    
        <a href="/assembly.html" class="headerItem">
            Assembly
        </a>
    
        <a href="/go.html" class="headerItem">
            Go
        </a>
    
        <a href="/plan9.html" class="headerItem">
            Plan 9
        </a>
    
        <a href="/web.html" class="headerItem">
            Web
        </a>
    
        <a href="/mcu.html" class="headerItem">
            MCU
        </a>
    
        <a href="/research.html" class="headerItem">
            Research
        </a>
    
        <a href="/non-tech.html" class="headerItem">
            Non-Tech
        </a>
    
</div>
            <h1>How to install and use Plan 9 on Mac VM Fusion</h1>
            <div class="bloginfo">
                <p class="info">2023-04-21 ｜ <a href="/plan 9.html"> Plan 9</a> ｜ #Words: 2545 ｜ <a href="https://blog.csdn.net/qq_33919450/article/details/129981079"> 中文原版 </a></p>
            </div>
            <p>I encountered many problems when using VM Fusion to install Plan 9 on Mac. The official documents and some foreign blogs from the past two years were not clear, and even “misleading” (some situations have changed). So I am writing this article to help others who also encounter the same problem.</p>

<p>If you can see this blog, it means that you probably know what kind of system Plan 9 is. I won’t go into details here and just get started.</p>

<p>You can follow the steps step by step. I have marked the important parts with subtitles.</p>

<h2 id="download-and-unzip">Download and unzip</h2>
<p>The download link is: <a href="https://9p.io/plan9/download/plan9.iso.bz2">https://9p.io/plan9/download/plan9.iso.bz2</a>.</p>

<p>However, in order to prevent the link from becoming invalid, the official website of Plan 9 is still listed: <a href="https://plan9.io/plan9/">https://plan9.io/plan9/</a>. The page is as follows:</p>

<p><img alt="Plan 9 official website" src="/assets/images/130f3dda791d4e2f9ad77af60d1f37d5.png" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>Here you can find a lot of information about Plan 9. Although some of the information is outdated, it can also tell you what the original developers of Plan 9 thought.</p>

<p>After downloading, use the <code class="language-plaintext highlighter-rouge">bzip2</code> command in the terminal to decompress (although macOS can recognize it as a compressed package, the decompression result is empty):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bzip2 -d plan9.iso.bz2
</code></pre></div></div>

<p>You then get an ISO file of about 300MB.</p>

<h2 id="create-a-new-virtual-machine">Create a new virtual machine</h2>
<p>**If you know how to create a new virtual machine, please skip directly to the “Notes” section. **</p>

<p>First click to create a new virtual machine, and then drag in the decompressed <code class="language-plaintext highlighter-rouge">plan9.iso</code> file. At this time, the page is as follows:</p>

<p>&lt;img alt=”Create new virtual machine from “plan9.iso”” src=”/assets/images/cb9e3e58e8ff419cb7345dd19dde44d9.png” style=”box-shadow: 0px 0px 0px 0px”&gt;</p>

<p>Then when selecting the operating system, select “Others-Others” and click “Continue”:</p>

<p>&lt;img alt=”When selecting the operating system, select “Others-Others” and click “Continue”” src=”/assets/images/1a532eebc606499eaaa8637d394e829d.png” style=”box-shadow: 0px 0px 0px 0px”&gt;</p>

<p>Select “Legacy BIOS” and click “Continue”:</p>

<p>&lt;img alt=”Select “Legacy BIOS”” src=”/assets/images/79043377c1f540a3bdc99981eba6d6fc.png” style=”box-shadow: 0px 0px 0px 0px”&gt;</p>

<h3 id="precautions">Precautions</h3>
<p>Please follow the following content, it is the key point. **In the following interface, please click “Customize Settings”. ** If you click “Continue”, the virtual machine will start automatically, and you need to shut down and adjust again:</p>

<p>&lt;img alt=”Select “Legacy BIOS” and click “Continue”” src=”/assets/images/b8376cc0a44347669e430de4c34aef0d.png” style=”box-shadow: 0px 0px 0px 0px”&gt;</p>

<p>I named this virtual machine “Plan 9”:</p>

<p>&lt;img alt=”Name this virtual machine “Plan 9”” src=”/assets/images/a8c427488b004c3e9ae0a5702640f2b6.png” style=”box-shadow: 0px 0px 0px 0px”&gt;</p>

<p>Then change the hard disk and CD/DVD (framed in the picture below) from IDE to SCSI respectively, as follows:</p>

<p>&lt;img alt=”Select “Change hard drive and CD/DVD from IDE to SCSI respectively” src=”/assets/images/7a090b60f8fc44bdb0b28b52b5e86793.png” style=”box-shadow: 0px 0px 0px 0px”&gt;</p>

<p>After modification, please remember to click “Apply”.</p>

<p>&lt;img alt=”After modifying the hard disk, please remember to click “Apply”” src=”/assets/images/180d837a8b9243f1b7304990fc4fea5e.png” style=”box-shadow: 0px 0px 0px 0px”&gt;</p>

<p>&lt;img alt=”After modifying the CD/DVD, please remember to click “Apply”” src=”/assets/images/385f7b9a33d8409cb3f5fdd07db13166.png” style=”box-shadow: 0px 0px 0px 0px”&gt;</p>

<p>Then adjust the configuration according to personal needs and you can start it.</p>

<p>If you don’t modify the IDE to SCSI, your keyboard input will be invalid in some cases, causing the boot to fail and be much slower.</p>

<h2 id="boot-interface">Boot interface</h2>
<p>Due to the virtual machine, only the text boot interface can be used.</p>

<p>After starting the virtual machine, the interface is as follows. At this time we enter <code class="language-plaintext highlighter-rouge">1</code>:</p>

<p><img alt="After starting the virtual machine, enter '1'" src="/assets/images/b3fc664bba374dd988b7329a9f225c22.png" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>Then please enter the following content in sequence:</p>
<ol>
  <li><code class="language-plaintext highlighter-rouge">yes</code>, use DMA for IDE devices (although we are not using IDE, but for historical reasons this is IDE);</li>
  <li><code class="language-plaintext highlighter-rouge">ps2</code> is a mouse. I believe many people still remember the PS2 interface on old computers;</li>
  <li><code class="language-plaintext highlighter-rouge">1024x768x32</code> means the resolution is 1024x768 (this resolution is the most stable, although you can set it yourself, but it will not be able to enter the system if it is too large, and changing vesa will not work), and the color depth is 32 bits (Plan 9 supports 8, 16, 24, 32 bit)</li>
  <li><code class="language-plaintext highlighter-rouge">xga</code> indicates that the monitor has an XGA interface (the same as IDE for historical reasons)</li>
</ol>

<p><img alt="Enter the above content in sequence" src="/assets/images/8a40e508218e405f8be700c3a662bf2c.png" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>After inputting, the following interface will appear:</p>

<p><img alt="'%' will be displayed after inputting" src="/assets/images/8f29bc2e876a459e861974bfa95da22f.png" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>That is to say, if an error is encountered, the text interactive interface can only be used. At this time we need to manually enter <code class="language-plaintext highlighter-rouge">inst/textonly</code> (cannot copy), and then press the Enter key.</p>

<p>Next, I will explain this situation, focusing on the four or five lines at the bottom of the picture:</p>

<p><img src="/assets/images/8359c29fae06415089854c4c1d1e9dc5.png" alt="Content displayed after entering ‘inst/textonly’" /></p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">Preparing menu</code> means regenerating the following content;</li>
  <li><code class="language-plaintext highlighter-rouge">The following unfinished tasks are ready to be done:</code> indicates what the next task is (here is what to do next). There will also be a section for completed tasks starting from the second one.</li>
  <li>The key point is the <code class="language-plaintext highlighter-rouge">Task to do [xxxx]</code> part, where we need to enter the task to be done, and <code class="language-plaintext highlighter-rouge">xxxx</code> in the square brackets represents the default value. Simply press the Enter key to enter the default value.</li>
</ol>

<p>So here we just keep pressing the Enter key. The content is roughly creating a file system. There is an introduction after each task in the list, so I won’t go into details here.</p>

<p><strong>Please also read each task carefully if you need to adjust some settings</strong>.</p>

<h3 id="need-to-remember">Need to remember</h3>
<p>Keep pressing Enter until <code class="language-plaintext highlighter-rouge">no default</code> appears. In this case, pressing Enter will not cause any operation, so don’t worry about pressing it too much.</p>

<p>There is something very important here that we need to remember. It is best to take a photo or take notes, which is the content in the red box in the picture below, because everyone’s value may be different: <code class="language-plaintext highlighter-rouge">sd00</code> represents the virtual machine generated by the VM. Hard disk, and <code class="language-plaintext highlighter-rouge">sd01</code> represents the virtual optical drive of <code class="language-plaintext highlighter-rouge">plan9.iso</code>.</p>

<p><img alt="`sd00` represents the virtual hard disk generated by the VM, and `sd01` represents the virtual optical drive of `plan9.iso`" src="/assets/images/070cb4037adb4521904d958dbd6f6aaf.png" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>Here we are asked which device we want to put Plan 9 into, of course it is the virtual hard disk. So we enter <code class="language-plaintext highlighter-rouge">sd00</code>.</p>

<p>Since the hard disk is empty, the master boot record (mbr, used to start the system) cannot be found. We will be asked whether to install mbr here. Enter <code class="language-plaintext highlighter-rouge">y</code>, as follows:</p>

<p><img alt="Enter `y`" src="/assets/images/9a4deac312544e0a87cabae253444fdc.png" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>Then confirm again. The method here is different from the previous one. You need to enter <code class="language-plaintext highlighter-rouge">w</code> first and then <code class="language-plaintext highlighter-rouge">q</code> to enter the next step. Similar to <code class="language-plaintext highlighter-rouge">:wq</code> in Vi to save and exit, but written separately. as follows:</p>

<p><img alt="You need to enter `w` first, then `q` to enter the next step" src="/assets/images/7d2e14f52fce42aebd43c8a82bb574e0.png" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>You can see that you have entered the next step. Here you still press the Enter key directly. When encountering the above situation, first <code class="language-plaintext highlighter-rouge">w</code> and then <code class="language-plaintext highlighter-rouge">q</code> until the next situation where there is no default value, as follows:</p>

<p><img alt="Press the Enter key directly. If you encounter the above situation, press `w` first and then `q`" src="/assets/images/45ab47ac6d0541a7815446f1a815196a.png" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>Here let us point out where the distribution is placed so that we can copy it to the hard drive later. Here you need to remember the content before moving out: the hard disk is <code class="language-plaintext highlighter-rouge">sd00</code>, and the CD/DVD is <code class="language-plaintext highlighter-rouge">sd01</code>.</p>

<p>Plan 9 is placed in the ISO, so enter <code class="language-plaintext highlighter-rouge">/dev/sd01/data</code> and adjust this according to your own content.</p>

<p>Then the following content will appear, allowing us to enter the specific directory containing the release version. Although there are default values here, don’t press Enter directly, just enter <code class="language-plaintext highlighter-rouge">/</code> (that is, in the current directory). Although you can press Enter, you can just enter <code class="language-plaintext highlighter-rouge">exit</code> to exit.</p>

<p><img alt="Although you can press Enter, just enter `exit` to exit" src="/assets/images/797592df68ae4a0eaa56d9ff89c80b0b.png" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>Next, press Enter in the <code class="language-plaintext highlighter-rouge">copydist</code> part and wait a few minutes for the system to be installed:</p>

<p><img alt="Press Enter in the `copydist` part and wait a few minutes for the system to be installed." src="/assets/images/e2dc53872c0d477087509970b57f31f9.png" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>Then continue to press Enter until the following situation has no default value:</p>

<p><img alt="Then continue to press Enter until the following situation has no default value" src="/assets/images/5f56049f701d4efb96e8b968d4a7a0a6.png" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>Here we are asked to select the startup method. We enter <code class="language-plaintext highlighter-rouge">plan9</code>, and then enter <code class="language-plaintext highlighter-rouge">y</code> to confirm.</p>

<p><img alt="Select the startup method, we enter `plan9`, and then enter `y` to confirm" src="/assets/images/603f6ebf7de44131a05af80953805b39.png" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>Then just press Enter to end. When the following content appears, you can shut down the virtual machine:</p>

<p>&lt;img alt=”Show “Feel free to turn off your computer”” src=”/assets/images/df1e42c2abd44144a49f988185553723.png” style=”box-shadow: 0px 0px 0px 0px”&gt;</p>

<p>Shut down here (be careful not to choose restart):</p>

<p>&lt;img alt=”Select “Shutdown” in the menu bar - Virtual Machine” src=”/assets/images/8c228fa7b1bb49b59beb0325a9658843.png” style=”box-shadow: 0px 0px 0px 0px”&gt;</p>

<h2 id="preparations-before-entering-the-system">Preparations before entering the system</h2>
<p>Next, don’t eject the ISO or disconnect the DVD/CD as stated in the official documentation or some tutorials. Just boot up and start using Plan 9. If you eject the ISO or disconnect the DVD/CD, it will show that it cannot find where to start. The page is as follows:</p>

<p><img alt="Cannot find where to start" src="/assets/images/2b5afa25d9f442c69769d37821f245f8.png" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>In this case, click on “Virtual Machine-Settings-Startup Disk”, select “CD/DVD”, and then click Restart.</p>

<p>&lt;img alt=”Click “Virtual Machine-Settings-Startup Disk”, select “CD/DVD”, and then click Restart” src=”/assets/images/80d5ea2b1c1e465fbf0150e8a7ae2f82.png” style=”box-shadow: 0px 0px 0px 0px”&gt;</p>

<h2 id="set-up-the-system">Set up the system</h2>
<p>You need to set up the system every time you enter the system.</p>

<p>When the page looks like this, press Enter.</p>

<p><img alt="is from (tcp,local)llocal!#S/sd00/fossill:" src="/assets/images/ab4a8f8c135e4e608a272ed9b11947b5.png" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>You will then be prompted to enter your username (as shown below), where you need to enter <code class="language-plaintext highlighter-rouge">glenda</code>. Never customize your username, because Glenda is the root user of Plan 9, and the meaning of Glenda is the name of the bunny that is the logo of Plan 9:</p>

<p><img src="/assets/images/de00e1f05cc642619f8c15006fb4d1f6.gif" alt="Glenda" /></p>

<p>Press Enter and wait for a while to see an interface like this:</p>

<p><img alt="The interface you see after entering Plan 9" src="/assets/images/3550859dfc0d48f98b4515181b7f193e.png" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>At the top from left to right are system information and time. The second line from left to right is the terminal and the text editor acme.</p>
<h2 id="simple-to-use">Simple to use</h2>
<p>Here we introduce the simple use of Plan 9, such as basic usage methods such as creating a new window. The usage of program applications such as acme will not be extended here.</p>

<p>The Shell used by Plan 9 is <code class="language-plaintext highlighter-rouge">rc</code>, and some compilers are also different from Unix. There is a lot of content on this. I will open a separate blog and put the link here after writing.</p>

<p>Before using Plan 9, you must first understand that Plan 9 is a graphical system born in the 1980s (although it debuted in 1992), so don’t hold onto the logic of today’s graphical operating systems and then complain. , because some of the operation logic used by Plan 9 is also present in the current system. In addition, although it comes from the same school as Unix, there are many things that are different. Anyway, as the paper said: “It makes Unix users strange but also like it.”</p>
<h2 id="basics-of-operation">Basics of operation</h2>
<p>Plan 9 divides the mouse input device into three keys: left, middle, and right, which correspond to the left button, pulley (the pulley is clicked, Plan 9 does not have a pulley design), and the right button on your hand. It should be noted that in Plan 9, the right button means “confirm”, which is contrary to modern operations.</p>

<p>Keyboard input is the same as today’s devices.</p>

<p>Let’s introduce the basic menu by creating and closing windows. Because unlike any modern operating system, Plan 9’s graphical interface has little to do with the file system. For example, the main interface of macOS or Windows is actually a directory in the file system, even the epoch-making Mac OS 6.0.8 (I will write a related blog to introduce it later. A comparison of the same period can show the scene of a hundred schools of thought contending during that time) They all use the file system as the core of their operations.</p>
<h2 id="create-and-close-windows-basic-menu">Create and close windows (basic menu)</h2>

<p>Right-click and hold (cannot release) the blank area of the interface (gray area), a menu will appear, then drag the cursor to “New” (right-click still cannot be released), and finally <strong>release</strong> the right-click to select “New”, you will find that the cursor changes to a circle and a cross. At this time, right-click and drag to outline a window. This window can only be a terminal, other programs need to be opened through the terminal.</p>

<p>If you want to close a window, right-click on a blank area and in the menu that appears, move to “Delete” and release, then right-click on the window to close it.</p>

<p>The process of creating and closing windows is as follows (the recording operation is a bit slow, please forgive me):</p>

<p><img src="/assets/images/092d005760cf4a3b83b5d310dc376a6c.gif" alt="Processes such as creating and closing windows" /></p>

<p>You may wonder why you have to press and hold to move to select and then release to confirm. This kind of operation is unheard of.</p>

<p>In fact, this kind of design exists now, or this kind of design was actually quite common back then. You can try it in macOS. After using it a lot, you will find that it works quite well in some situations. as follows:</p>

<p><img src="/assets/images/5769a490a59f4100a77032628f72d84f.gif" alt="Drag selection operation in macOS" /></p>

<h2 id="hide-and-re-show-windows">Hide and re-show windows</h2>
<p>In macOS or Windows, open programs will appear in the Dock or taskbar, but this is not the case with Plan 9. All applications opened by Plan 9 will appear on the interface. If you want to hide it if it is too messy, then you need to use “Hide” in the menu to hide the program, which is the concept of minimization. Hidden programs will appear in the menu that comes out by right-clicking and holding the key, as follows:</p>

<p><img src="/assets/images/a73f1b238b2548f780543e0911920608.gif" alt="Hide and redisplay windows" /></p>

<h2 id="open-an-application">Open an application</h2>
<p>Open an application just like in Unix, use the path, or directly use the program name stored in the <code class="language-plaintext highlighter-rouge">PATH</code> environment variable. You can open a Tetris mini-game as follows:</p>

<p><img src="/assets/images/5abdb7f6fcf74a5c943ac399c40e45df.gif" alt="Open an application from the command line" /></p>

<p>Okay, this is enough to explore Plan 9 simply. I will update the in-depth parts, such as the user system, the use of acme, and the use of various compilers, into new blogs.</p>

<p>​I hope these will help someone in need~</p>

        </div>
        <!-- comment by utterances -->
        <script src="https://utteranc.es/client.js"
        repo="ZhongUncle/zhonguncle.github.io"
        issue-term="url"
        theme="github-light"
        crossorigin="anonymous"
        async>
        </script>
        <!-- <div class="footer__html">
            <p>
                You can find me in: 
                <a href="https://blog.csdn.net/qq_33919450">CSDN</a>
                <a href="https://github.com/ZhongUncle">GitHub</a>
            </p>
        </div> -->
    </body>
</html>