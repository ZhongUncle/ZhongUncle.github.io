<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv='content-language' content='zh-CN'>
        <!-- <title>如何使用 Javascript 获取 URL 参数 - ZhongUncle</title> 因为有了seo生成的 -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="/assets/css/headerstyle.css" />
        <link rel="stylesheet" type="text/css" href="/assets/css/blogstyle.css" />
        <link rel="stylesheet" type="text/css" href="/assets/css/style.css" />
        <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>如何使用 Javascript 获取 URL 参数 - ZhongUncle</title>
<meta name="generator" content="Jekyll v4.3.1" />
<meta property="og:title" content="如何使用 Javascript 获取 URL 参数 - ZhongUncle" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="JS 获取 URL 参数稍微有点麻烦，因为 JS 只能获取到 URL 的某一部分，但是不能再细分。如果想获取某一项参数，那么还需要使用一下字符串截取。 所以分为两步：" />
<meta property="og:description" content="JS 获取 URL 参数稍微有点麻烦，因为 JS 只能获取到 URL 的某一部分，但是不能再细分。如果想获取某一项参数，那么还需要使用一下字符串截取。 所以分为两步：" />
<link rel="canonical" href="https://zhonguncle.github.io/blogs/d9d711c1f269c6b8917dbd521ca2a8e4.html" />
<meta property="og:url" content="https://zhonguncle.github.io/blogs/d9d711c1f269c6b8917dbd521ca2a8e4.html" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-06-12T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="如何使用 Javascript 获取 URL 参数 - ZhongUncle" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-06-12T00:00:00+08:00","datePublished":"2022-06-12T00:00:00+08:00","description":"JS 获取 URL 参数稍微有点麻烦，因为 JS 只能获取到 URL 的某一部分，但是不能再细分。如果想获取某一项参数，那么还需要使用一下字符串截取。 所以分为两步：","headline":"如何使用 Javascript 获取 URL 参数 - ZhongUncle","mainEntityOfPage":{"@type":"WebPage","@id":"https://zhonguncle.github.io/blogs/d9d711c1f269c6b8917dbd521ca2a8e4.html"},"url":"https://zhonguncle.github.io/blogs/d9d711c1f269c6b8917dbd521ca2a8e4.html"}</script>
<!-- End Jekyll SEO tag -->

    </head>
    <body>
        <div class="stackedit__html">
            <!-- 这个文件里是用来生成导航栏的 -->
<div class="header">
    
        <a href="/index.html" class="headerItem">
            主页
        </a>
    
        <a href="/swiftui.html" class="headerItem">
            SwiftUI
        </a>
    
        <a href="/unix.html" class="headerItem">
            UNIX
        </a>
    
        <a href="/web.html" class="headerItem">
            Web
        </a>
    
        <a href="/research.html" class="headerItem">
            Research
        </a>
    
</div>
            <h1>如何使用 Javascript 获取 URL 参数 - ZhongUncle</h1>
            <div class="bloginfo">
                <p class="info">2022-06-12 ｜ <a href="/web.html"> Web</a> ｜ 934 字</p>
            </div>
            
            <!-- excerpt-start -->
<p>JS 获取 URL 参数稍微有点麻烦，因为 JS 只能获取到 URL 的某一部分，但是不能再细分。如果想获取某一项参数，那么还需要使用一下字符串截取。
所以分为两步：</p>

<ol>
  <li>获取 URL 的参数部分</li>
  <li>截取某一个参数（甚至细分到参数名和参数值）</li>
</ol>

<p>首先假设 URL 是<code class="language-plaintext highlighter-rouge">https://www.example.com/?keyword=abc&amp;id=12</code>。</p>
<h2 id="js-获取-url-的参数部分">JS 获取 URL 的参数部分</h2>
<p>首先需要使用<code class="language-plaintext highlighter-rouge">new URL()</code>来创建一个 URL 对象，然后使用<code class="language-plaintext highlighter-rouge">.search</code>来获取 URL 参数部分。</p>

<p>代码如下：</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">html</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">head</span><span class="o">&gt;</span> 
<span class="o">&lt;</span><span class="nx">meta</span> <span class="nx">charset</span><span class="o">=</span><span class="dl">"</span><span class="s2">utf-8</span><span class="dl">"</span><span class="o">&gt;</span> 
<span class="o">&lt;</span><span class="nx">title</span><span class="o">&gt;</span><span class="nx">测试</span><span class="o">&lt;</span><span class="sr">/title&gt;</span><span class="err"> 
</span><span class="o">&lt;</span><span class="sr">/head</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">body</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
<span class="kd">let</span> <span class="nx">url</span><span class="o">=</span><span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://www.example.com/?keyword=abc&amp;id=12</span><span class="dl">'</span><span class="p">);</span> <span class="cm">/* 创建一个 URL 对象 */</span>
<span class="kd">let</span> <span class="nx">para</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">search</span><span class="p">;</span> <span class="cm">/* 获取 URL 参数部分 */</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">para</span><span class="p">);</span> <span class="cm">/* 显示 a 的内容到屏幕上 */</span>
<span class="o">&lt;</span><span class="sr">/script&gt;</span><span class="err"> 
</span>
<span class="o">&lt;</span><span class="sr">/body</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/html</span><span class="err">&gt;
</span></code></pre></div></div>

<p>显示如下：</p>

<p><img src="/assets/images/0044d57e65b14e10ba29f60caf87b9f3.png" alt="请添加图片描述" /></p>

<p>如果想要了解更多 Javascript 中 URL 相关的信息，可以查看这篇文章，我觉得挺不错的：<a href="https://javascript.info/url">https://javascript.info/url</a></p>

<p>ok接下来就是截取各部分了。</p>

<h2 id="截取-url-参数">截取 URL 参数</h2>
<p>多个 URL 参数通过<code class="language-plaintext highlighter-rouge">&amp;</code>符号分隔，所以可以利用 JS 的 <code class="language-plaintext highlighter-rouge">split()</code>来分隔。<code class="language-plaintext highlighter-rouge">split()</code>会将分隔的内容放入一个数组。
但是在使用 <code class="language-plaintext highlighter-rouge">split()</code>之前，需要将参数部分开头的问号<code class="language-plaintext highlighter-rouge">?</code>先去除，不然分隔的第一个会带着这个问号<code class="language-plaintext highlighter-rouge">?</code>。使用<code class="language-plaintext highlighter-rouge">.substring(1)</code>来忽略开头的第一个字符<code class="language-plaintext highlighter-rouge">&amp;</code>。</p>

<p>代码如下：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">html</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">head</span><span class="o">&gt;</span> 
<span class="o">&lt;</span><span class="nx">meta</span> <span class="nx">charset</span><span class="o">=</span><span class="dl">"</span><span class="s2">utf-8</span><span class="dl">"</span><span class="o">&gt;</span> 
<span class="o">&lt;</span><span class="nx">title</span><span class="o">&gt;</span><span class="nx">测试</span><span class="o">&lt;</span><span class="sr">/title&gt;</span><span class="err"> 
</span><span class="o">&lt;</span><span class="sr">/head</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">body</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
<span class="nx">url</span><span class="o">=</span><span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://www.example.com/?keyword=abc&amp;id=12</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">para</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">search</span><span class="p">;</span> <span class="cm">/* 获取属性（“?”后面的分段） */</span>
<span class="nx">para</span><span class="o">=</span><span class="nx">para</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nx">a</span><span class="o">=</span><span class="nx">para</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="dl">"</span><span class="s2">&amp;</span><span class="dl">"</span><span class="p">);</span>
<span class="cm">/* 分行显示第一个和第二个参数 */</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="dl">'</span><span class="s1">&lt;br&gt;</span><span class="dl">'</span><span class="p">);</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
<span class="o">&lt;</span><span class="sr">/script&gt;</span><span class="err"> 
</span>
<span class="o">&lt;</span><span class="sr">/body</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/html</span><span class="err">&gt;
</span></code></pre></div></div>
<p>显示如下：</p>

<p><img src="/assets/images/7e86c5a0eab145b498598915b8b1a662.png" alt="请添加图片描述" /></p>

<p>这时候可以更近一步获取某一个参数名或者参数值，代码如下：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">html</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">head</span><span class="o">&gt;</span> 
<span class="o">&lt;</span><span class="nx">meta</span> <span class="nx">charset</span><span class="o">=</span><span class="dl">"</span><span class="s2">utf-8</span><span class="dl">"</span><span class="o">&gt;</span> 
<span class="o">&lt;</span><span class="nx">title</span><span class="o">&gt;</span><span class="nx">测试</span><span class="o">&lt;</span><span class="sr">/title&gt;</span><span class="err"> 
</span><span class="o">&lt;</span><span class="sr">/head</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">body</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
<span class="nx">url</span><span class="o">=</span><span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://www.example.com/?keyword=abc&amp;id=12</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">para</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">search</span><span class="p">;</span> <span class="cm">/* 获取属性（“?”后面的分段） */</span>
<span class="nx">para</span><span class="o">=</span><span class="nx">para</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nx">a</span><span class="o">=</span><span class="nx">para</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="dl">"</span><span class="s2">&amp;</span><span class="dl">"</span><span class="p">);</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="dl">"</span><span class="s2">=</span><span class="dl">"</span><span class="p">)[</span><span class="mi">0</span><span class="p">]);</span> <span class="cm">/* 第一个参数的参数名 */</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="dl">'</span><span class="s1">&lt;br&gt;</span><span class="dl">'</span><span class="p">);</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="dl">"</span><span class="s2">=</span><span class="dl">"</span><span class="p">)[</span><span class="mi">1</span><span class="p">]);</span> <span class="cm">/* 第一个参数的参数名 */</span>
<span class="o">&lt;</span><span class="sr">/script&gt;</span><span class="err"> 
</span>
<span class="o">&lt;</span><span class="sr">/body</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/html</span><span class="err">&gt;
</span></code></pre></div></div>
<p>显示如下：</p>

<p><img src="/assets/images/3bded303a9d2416f802406db7fa3f49b.png" alt="请添加图片描述" /></p>

<p>希望可以帮到有需要的人～</p>

        </div>
    </body>
</html>