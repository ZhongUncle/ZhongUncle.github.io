<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv='content-language' content='en'>
        <title>How to modify TabView in SwiftUI</title>
        <link rel="icon" type="image/x-icon" href="/assets/images/icon.png">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name='description' content='How to modify TabView in SwiftUI (including properties of tabItem), such as color, position, size, etc.'>
        
        <link rel="stylesheet" type="text/css" href="/assets/css/headerstyle.css" />
        <link rel="stylesheet" type="text/css" href="/assets/css/blogstyle.css" />
        <link rel="stylesheet" type="text/css" href="/assets/css/style.css" />
        
        
        <!-- Clarity tracking code for https://zhonguncle.github.io/ -->
        <script type="text/javascript">
            (function(c,l,a,r,i,t,y){
                c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
                t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
                y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
            })(window, document, "clarity", "script", "ky7zebz4nm");
        </script>
    </head>
    <body>
        <div class="stackedit__html">
            <!-- 这个文件里是用来生成导航栏的 -->
<div class="header">
    
        <a href="/index.html" class="headerItem">
            主页
        </a>
    
        <a href="/swift.html" class="headerItem">
            Swift
        </a>
    
        <a href="/unix.html" class="headerItem">
            UNIX
        </a>
    
        <a href="/c.html" class="headerItem">
            C
        </a>
    
        <a href="/assembly.html" class="headerItem">
            Assembly
        </a>
    
        <a href="/go.html" class="headerItem">
            Go
        </a>
    
        <a href="/plan9.html" class="headerItem">
            Plan 9
        </a>
    
        <a href="/web.html" class="headerItem">
            Web
        </a>
    
        <a href="/mcu.html" class="headerItem">
            MCU
        </a>
    
        <a href="/research.html" class="headerItem">
            Research
        </a>
    
        <a href="/non-tech.html" class="headerItem">
            Non-Tech
        </a>
    
</div>
            <h1>How to modify TabView in SwiftUI</h1>
            <div class="bloginfo">
                <p class="info">2022-03-23 ｜ <a href="/swift.html"> Swift</a> ｜ #Words: 2953 ｜ <a href="https://blog.csdn.net/qq_33919450/article/details/123617395"> 中文原版 </a></p>
            </div>
            <h2 id="reading-suggestions-and-tips">Reading Suggestions and Tips</h2>
<ol>
  <li>All codes in this article apply to the latest versions of iOS 15 and SwiftUI.</li>
  <li>This article does not list all attributes because some attributes will conflict with other attributes and become invalid, so attributes that can be ignored are ignored.</li>
</ol>

<h2 id="how-to-create-a-simple-tabview">How to create a simple TabView</h2>
<p>In SwiftUI, we can easily implement the tab effect TabView, as follows:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">ContentView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
     <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
         <span class="kt">TabView</span> <span class="p">{</span>
             <span class="kt">Text</span><span class="p">(</span><span class="s">"First Tab"</span><span class="p">)</span>
                 <span class="o">.</span><span class="nf">badge</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="cm">/* This is new in iOS 15.0 and cannot be used in previous versions */</span>
                 <span class="o">.</span><span class="n">tabItem</span> <span class="p">{</span>
                     <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"1.square.fill"</span><span class="p">)</span>
                     <span class="kt">Text</span><span class="p">(</span><span class="s">"first page"</span><span class="p">)</span>
                 <span class="p">}</span>
             <span class="kt">Text</span><span class="p">(</span><span class="s">"Another Tab"</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">tabItem</span> <span class="p">{</span>
                     <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"2.square.fill"</span><span class="p">)</span>
                     <span class="kt">Text</span><span class="p">(</span><span class="s">"Second page"</span><span class="p">)</span>
                 <span class="p">}</span>
             <span class="kt">Text</span><span class="p">(</span><span class="s">"Last Tab"</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">tabItem</span> <span class="p">{</span>
                     <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"3.square.fill"</span><span class="p">)</span>
                     <span class="kt">Text</span><span class="p">(</span><span class="s">"Page 3"</span><span class="p">)</span>
                 <span class="p">}</span>
         <span class="p">}</span>
     <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The implemented interface is as follows:</p>

<p><img src="/assets/images/a78cceb4cab243e78ac8bc81407818fe.png" alt="Simple TabView effect implemented" /></p>

<blockquote>
  <p>.tabItem { } can only contain one Image and Text, or vice versa.</p>
</blockquote>

<p>But when we needed to modify some of his attributes, we found that we couldn’t modify them. For example, if we want to modify the color of a tabItem, we use <code class="language-plaintext highlighter-rouge">.foregroundColor()</code> and find that there is no change.</p>

<p>This may be because SwiftUI is not perfect enough, so we need to use UIKit at this time. There are two ways to modify it:</p>
<ol>
  <li><code class="language-plaintext highlighter-rouge">UITabBar.appearance()</code> (can only be roughly modified)</li>
  <li><code class="language-plaintext highlighter-rouge">UITabBarItemAppearance()UITabBarAppearance()</code> (can be modified in detail. This is recommended)</li>
</ol>

<h2 id="uitabbarappearance-for-rough-modification"><code class="language-plaintext highlighter-rouge">UITabBar.appearance()</code> for rough modification</h2>
<p>The first is to directly modify the properties of <code class="language-plaintext highlighter-rouge">UITabBar.appearance()</code>, but there is very little that can be modified. It is basically only used to modify the background color of the TabBar.</p>

<p>**For the sake of code simplicity, the complete usage code is attached at the end of this section. **</p>

<h3 id="modify-the-background-color-of-the-tab-bar">Modify the background color of the tab bar</h3>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Modify the tab bar background color</span>
<span class="kt">UITabBar</span><span class="o">.</span><span class="nf">appearance</span><span class="p">()</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">gray</span><span class="p">)</span>
</code></pre></div></div>

<p>The modified style is as follows:</p>

<p><img src="/assets/images/483f1bffff13462caeec6346a0c2db0a.png" alt="Modified style" /></p>

<h3 id="modify-the-color-of-unselected-items">Modify the color of unselected items</h3>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Modify the color of unselected items</span>
<span class="kt">UITabBar</span><span class="o">.</span><span class="nf">appearance</span><span class="p">()</span><span class="o">.</span><span class="n">unselectedItemTintColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">pink</span><span class="p">)</span>
</code></pre></div></div>

<p>The modified style is as follows:</p>

<p><img src="/assets/images/5618f0bc688a4b00b3aa6f9397ff7169.png" alt="Modified style" /></p>

<p>**We can find that there are other attributes, but the modification found no change. **</p>

<p>Can be used through <code class="language-plaintext highlighter-rouge">init()</code> or <code class="language-plaintext highlighter-rouge">.onAppear(perform:)</code>.
So, the complete usage code is as follows:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">ContentView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
     <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
         <span class="c1">//Modify the tab bar background color</span>
         <span class="kt">UITabBar</span><span class="o">.</span><span class="nf">appearance</span><span class="p">()</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">gray</span><span class="p">)</span>
         <span class="c1">//Modify the color of unselected items</span>
         <span class="kt">UITabBar</span><span class="o">.</span><span class="nf">appearance</span><span class="p">()</span><span class="o">.</span><span class="n">unselectedItemTintColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">pink</span><span class="p">)</span>
     <span class="p">}</span>
     <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
         <span class="kt">TabView</span> <span class="p">{</span>
             <span class="kt">Text</span><span class="p">(</span><span class="s">"First Tab"</span><span class="p">)</span>
                 <span class="o">.</span><span class="nf">badge</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="cm">/* This is new in iOS 15.0 and cannot be used in previous versions */</span>
                 <span class="o">.</span><span class="n">tabItem</span> <span class="p">{</span>
                     <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"1.square.fill"</span><span class="p">)</span>
                     <span class="kt">Text</span><span class="p">(</span><span class="s">"first page"</span><span class="p">)</span>
                 <span class="p">}</span>
             <span class="kt">Text</span><span class="p">(</span><span class="s">"Another Tab"</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">tabItem</span> <span class="p">{</span>
                     <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"2.square.fill"</span><span class="p">)</span>
                     <span class="kt">Text</span><span class="p">(</span><span class="s">"Second page"</span><span class="p">)</span>
                 <span class="p">}</span>
             <span class="kt">Text</span><span class="p">(</span><span class="s">"Last Tab"</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">tabItem</span> <span class="p">{</span>
                     <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"3.square.fill"</span><span class="p">)</span>
                     <span class="kt">Text</span><span class="p">(</span><span class="s">"Page 3"</span><span class="p">)</span>
                 <span class="p">}</span>
         <span class="p">}</span>
     <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Or use <code class="language-plaintext highlighter-rouge">.onAppear(perform:)</code>:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">ContentView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
     <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
         <span class="kt">TabView</span> <span class="p">{</span>
             <span class="kt">Text</span><span class="p">(</span><span class="s">"First Tab"</span><span class="p">)</span>
                 <span class="o">.</span><span class="nf">badge</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="cm">/* This is new in iOS 15.0 and cannot be used in previous versions */</span>
                 <span class="o">.</span><span class="n">tabItem</span> <span class="p">{</span>
                     <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"1.square.fill"</span><span class="p">)</span>
                     <span class="kt">Text</span><span class="p">(</span><span class="s">"first page"</span><span class="p">)</span>
                 <span class="p">}</span>
             <span class="kt">Text</span><span class="p">(</span><span class="s">"Another Tab"</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">tabItem</span> <span class="p">{</span>
                     <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"2.square.fill"</span><span class="p">)</span>
                     <span class="kt">Text</span><span class="p">(</span><span class="s">"Second page"</span><span class="p">)</span>
                 <span class="p">}</span>
             <span class="kt">Text</span><span class="p">(</span><span class="s">"Last Tab"</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">tabItem</span> <span class="p">{</span>
                     <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"3.square.fill"</span><span class="p">)</span>
                     <span class="kt">Text</span><span class="p">(</span><span class="s">"Page 3"</span><span class="p">)</span>
                 <span class="p">}</span>
         <span class="p">}</span>
         <span class="o">.</span><span class="nf">onAppear</span><span class="p">(</span><span class="nv">perform</span><span class="p">:</span> <span class="p">{</span>
         <span class="c1">//Modify the tab bar background color</span>
             <span class="kt">UITabBar</span><span class="o">.</span><span class="nf">appearance</span><span class="p">()</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">gray</span><span class="p">)</span>
            
             <span class="c1">//Modify the color of unselected items</span>
             <span class="kt">UITabBar</span><span class="o">.</span><span class="nf">appearance</span><span class="p">()</span><span class="o">.</span><span class="n">unselectedItemTintColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">pink</span><span class="p">)</span>
         <span class="p">})</span>
     <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>This method is too simple, so I recommend the following</p>

<h2 id="uitabbaritemappearance-and-uitabbarappearance-for-detailed-modifications"><code class="language-plaintext highlighter-rouge">UITabBarItemAppearance()</code> and <code class="language-plaintext highlighter-rouge">UITabBarAppearance()</code> for detailed modifications</h2>
<p>The use of this method is more complicated, so the length is longer. To keep the code neat and tidy, write it separately and list the complete code at the end.</p>

<p>The first is the objects (<code class="language-plaintext highlighter-rouge">tabItem</code>) in the TabBar, such as icon text. We need to declare a variable <code class="language-plaintext highlighter-rouge">itemAppearance</code> first, as follows</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">itemAppearance</span> <span class="o">=</span> <span class="kt">UITabBarItemAppearance</span><span class="p">()</span>
</code></pre></div></div>

<p>Then first introduce the properties of <code class="language-plaintext highlighter-rouge">tabItem</code>:</p>

<h3 id="set-the-properties-of-tabitem">Set the properties of <code class="language-plaintext highlighter-rouge">tabItem</code></h3>
<h4 id="the-color-of-the-icon-which-is-the-color-of-the-image">The color of the icon, which is the color of the Image</h4>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//The color of the icon of the unselected label</span>
<span class="n">itemAppearance</span><span class="o">.</span><span class="n">normal</span><span class="o">.</span><span class="n">iconColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">green</span><span class="p">)</span>
<span class="c1">//The color of the icon of the selected label</span>
<span class="n">itemAppearance</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">iconColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">pink</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="the-attributes-of-the-text-that-is-the-attributes-of-the-text-part">The attributes of the text, that is, the attributes of the Text part</h4>
<p>For the sake of conciseness of the code, only modifying the text color is demonstrated here.
In addition to being able to modify the color, because it is an NSAttributedString type, you can also modify the font type, size, shadow, background, and even content. For more usage methods of <code class="language-plaintext highlighter-rouge">NSAttributedString</code>, you can view: <a href="https://www.hackingwithswift.com/articles/113/nsattributedstring-by -example">https://www.hackingwithswift.com/articles/113/nsattributedstring-by-example</a></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//The color of the title of unselected tags</span>
<span class="n">itemAppearance</span><span class="o">.</span><span class="n">normal</span><span class="o">.</span><span class="n">titleTextAttributes</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="nv">foregroundColor</span><span class="p">:</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">green</span><span class="p">)]</span>
<span class="c1">//The color of the title of the selected tag</span>
<span class="n">itemAppearance</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">titleTextAttributes</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="nv">foregroundColor</span><span class="p">:</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">pink</span><span class="p">)]</span>
</code></pre></div></div>

<h3 id="bubbles">Bubbles</h3>
<p>**It should be noted that if the attributes in this part are only set to the value in the normal or selected state, then this value will be used no matter what the state is! **</p>

<h4 id="background-color">background color</h4>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Background color of bubbles for unselected tags</span>
<span class="n">itemAppearance</span><span class="o">.</span><span class="n">normal</span><span class="o">.</span><span class="n">badgeBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">black</span><span class="p">)</span>
<span class="c1">//The background color of the bubble of the selected label</span>
<span class="n">itemAppearance</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">badgeBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">yellow</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="text-attributes">Text attributes</h4>
<p>For the sake of conciseness of the code, only modifying the text color is demonstrated here.
In addition to being able to modify the color, because it is an NSAttributedString type, you can also modify the font type, size, shadow, background, and even content. For more usage methods of <code class="language-plaintext highlighter-rouge">NSAttributedString</code>, you can view: <a href="https://www.hackingwithswift.com/articles/113/nsattributedstring-by -example">https://www.hackingwithswift.com/articles/113/nsattributedstring-by-example</a></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//The text color of the bubble of the selected label</span>
<span class="n">itemAppearance</span><span class="o">.</span><span class="n">normal</span><span class="o">.</span><span class="n">badgeTextAttributes</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="nv">foregroundColor</span><span class="p">:</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">gray</span><span class="p">)]</span>
<span class="c1">//The text color of the bubble of the selected label</span>
<span class="n">itemAppearance</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">badgeTextAttributes</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="nv">foregroundColor</span><span class="p">:</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">black</span><span class="p">)]</span>
</code></pre></div></div>

<h4 id="location">Location</h4>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//The position of the bubble of the unselected label</span>
<span class="n">itemAppearance</span><span class="o">.</span><span class="n">normal</span><span class="o">.</span><span class="n">badgePositionAdjustment</span> <span class="o">=</span> <span class="kt">UIOffset</span><span class="p">(</span><span class="nv">horizontal</span><span class="p">:</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="nv">vertical</span><span class="p">:</span> <span class="o">-</span><span class="mi">10</span><span class="p">)</span>
<span class="c1">//The position of the bubble of the unselected label</span>
<span class="n">itemAppearance</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">badgePositionAdjustment</span> <span class="o">=</span> <span class="kt">UIOffset</span><span class="p">(</span><span class="nv">horizontal</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nv">vertical</span><span class="p">:</span> <span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="position-of-title">Position of title</h4>
<p>**It should be noted that this offset is superimposed on the position offset of the bubble, but the horizontal axes of the two reference systems are opposite. **</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//The position of the bubble title of the unselected label</span>
<span class="n">itemAppearance</span><span class="o">.</span><span class="n">normal</span><span class="o">.</span><span class="n">badgeTitlePositionAdjustment</span> <span class="o">=</span> <span class="kt">UIOffset</span><span class="p">(</span><span class="nv">horizontal</span><span class="p">:</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="nv">vertical</span><span class="p">:</span> <span class="o">-</span><span class="mi">10</span><span class="p">)</span>
<span class="c1">//The position of the bubble title of the unselected label</span>
<span class="n">itemAppearance</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">badgeTitlePositionAdjustment</span> <span class="o">=</span> <span class="kt">UIOffset</span><span class="p">(</span><span class="nv">horizontal</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nv">vertical</span><span class="p">:</span> <span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<p>After <code class="language-plaintext highlighter-rouge">barItem</code> is set, it is time to set the properties of TabBar, which is the <code class="language-plaintext highlighter-rouge">UITabBarAppearance()</code> part.</p>

<h3 id="set-the-overall-properties-of-tabview">Set the overall properties of <code class="language-plaintext highlighter-rouge">TabView</code></h3>
<p>Similarly, we need to declare a variable <code class="language-plaintext highlighter-rouge">appeareance</code> first, as follows:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">appeareance</span> <span class="o">=</span> <span class="kt">UITabBarAppearance</span><span class="p">()</span>
</code></pre></div></div>

<h4 id="apply-the-previous-settings-of-baritems">Apply the previous settings of barItems</h4>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Here we can apply the itemAppearance we set above to the stackedLayoutAppearance property of UITabBarAppearance()</span>
<span class="n">appeareance</span><span class="o">.</span><span class="n">stackedLayoutAppearance</span> <span class="o">=</span> <span class="n">itemAppearance</span>
</code></pre></div></div>

<h4 id="background-image-of-tabbar">Background image of TabBar</h4>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//TabBar background image</span>
<span class="n">appearance</span><span class="o">.</span><span class="n">backgroundImage</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"test"</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="background-color-of-tabbar">Background color of TabBar</h4>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Background color of TabBar</span>
<span class="n">appearance</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">white</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="the-shadow-of-tabbar-is-the-top-line">The shadow of TabBar is the top “line”</h4>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//The shadow of TabBar is the top "line"</span>
<span class="n">appearance</span><span class="o">.</span><span class="n">shadowColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">black</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="tabitem-placement-format">tabItem placement format</h4>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//The placement format of tabItems. .automatic is the default format; .centered means to move to the middle as much as possible; .fill means to fill the TabBar as much as possible.</span>
<span class="n">appearance</span><span class="o">.</span><span class="n">stackedItemPositioning</span> <span class="o">=</span> <span class="o">.</span><span class="n">centered</span>
</code></pre></div></div>

<h4 id="tabitem-placement-format-1">tabItem placement format</h4>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//The spacing between tabItems, but the biggest effect is that it is the same as the .fill format and will not exceed the view.</span>
<span class="n">appearance</span><span class="o">.</span><span class="n">stackedItemSpacing</span> <span class="o">=</span> <span class="mi">2000</span>
</code></pre></div></div>

<h3 id="finally-apply-all-settings-to-the-view">Finally, apply all settings to the view</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//To apply all previous settings to the view</span>
<span class="kt">UITabBar</span><span class="o">.</span><span class="nf">appearance</span><span class="p">()</span><span class="o">.</span><span class="n">scrollEdgeAppearance</span> <span class="o">=</span> <span class="n">appeareance</span>
</code></pre></div></div>

<p>However, there is one thing to note here. Some people will want to use the following code to apply settings:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Do not use it. Because using this will not apply our settings for UITabBarAppearance()</span>
<span class="kt">UITabBar</span><span class="o">.</span><span class="nf">appearance</span><span class="p">()</span><span class="o">.</span><span class="n">standardAppearance</span> <span class="o">=</span> <span class="n">appeareance</span>
</code></pre></div></div>
<p>**Assigning a value to <code class="language-plaintext highlighter-rouge">standardAppearance</code> will prevent our settings from <code class="language-plaintext highlighter-rouge">UITabBarAppearance()</code> from being applied successfully. **</p>

<h2 id="complete-code-and-demo-screenshots">Complete code and demo screenshots</h2>
<p>The complete code is as follows:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">ContentView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
     <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
         <span class="c1">//Modify objects in TabBar, such as icon text, etc.</span>
         <span class="k">let</span> <span class="nv">itemAppearance</span> <span class="o">=</span> <span class="kt">UITabBarItemAppearance</span><span class="p">()</span>
         <span class="c1">//Label</span>
         <span class="c1">//The color of the icon——that is, the color of the Image</span>
             <span class="c1">//The color of the icon of the unselected label</span>
             <span class="n">itemAppearance</span><span class="o">.</span><span class="n">normal</span><span class="o">.</span><span class="n">iconColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">green</span><span class="p">)</span>
             <span class="c1">//The color of the icon of the selected label</span>
             <span class="n">itemAppearance</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">iconColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">pink</span><span class="p">)</span>
         <span class="c1">//The color of the text——that is, the color of Text</span>
         <span class="c1">//For the sake of conciseness of the code, only modifying the text color is demonstrated here. In addition to changing the color, you can also change the font type, size, shadow, background, and even content. Details can be found at https://www.hackingwithswift.com/articles/113/nsattributedstring-by-example</span>
             <span class="c1">//The color of the title of unselected tags</span>
             <span class="n">itemAppearance</span><span class="o">.</span><span class="n">normal</span><span class="o">.</span><span class="n">titleTextAttributes</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="nv">foregroundColor</span><span class="p">:</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">green</span><span class="p">)]</span>
             <span class="c1">//The color of the title of the selected tag</span>
             <span class="n">itemAppearance</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">titleTextAttributes</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="nv">foregroundColor</span><span class="p">:</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">pink</span><span class="p">)]</span>
        
         <span class="c1">//bubble</span>
         <span class="c1">//It should be noted that if only the value in the normal or selected state is set, then this value will be used regardless of the state!</span>
         <span class="c1">//background color</span>
             <span class="c1">//Background color of bubbles for unselected tags</span>
             <span class="n">itemAppearance</span><span class="o">.</span><span class="n">normal</span><span class="o">.</span><span class="n">badgeBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">black</span><span class="p">)</span>
             <span class="c1">//The background color of the bubble of the selected label</span>
             <span class="n">itemAppearance</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">badgeBackgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">yellow</span><span class="p">)</span>
         <span class="c1">//Text attribute——For the sake of code simplicity, only modifying the text color is demonstrated here. In addition to changing the color, you can also change the font type, size, shadow, background, and even content. Details can be found at https://www.hackingwithswift.com/articles/113/nsattributedstring-by-example</span>
             <span class="c1">//The text color of the bubble of the selected label</span>
             <span class="n">itemAppearance</span><span class="o">.</span><span class="n">normal</span><span class="o">.</span><span class="n">badgeTextAttributes</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="nv">foregroundColor</span><span class="p">:</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">gray</span><span class="p">)]</span>
             <span class="c1">//The text color of the bubble of the selected label</span>
             <span class="n">itemAppearance</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">badgeTextAttributes</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="nv">foregroundColor</span><span class="p">:</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">black</span><span class="p">)]</span>
         <span class="c1">//Location</span>
             <span class="c1">//The position of the bubble of the unselected label</span>
             <span class="n">itemAppearance</span><span class="o">.</span><span class="n">normal</span><span class="o">.</span><span class="n">badgePositionAdjustment</span> <span class="o">=</span> <span class="kt">UIOffset</span><span class="p">(</span><span class="nv">horizontal</span><span class="p">:</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="nv">vertical</span><span class="p">:</span> <span class="o">-</span><span class="mi">10</span><span class="p">)</span>
             <span class="c1">//The position of the bubble of the unselected label</span>
             <span class="n">itemAppearance</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">badgePositionAdjustment</span> <span class="o">=</span> <span class="kt">UIOffset</span><span class="p">(</span><span class="nv">horizontal</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nv">vertical</span><span class="p">:</span> <span class="mi">10</span><span class="p">)</span>
         <span class="c1">//The position of the title————This offset is superimposed on the position offset of the bubble, but the horizontal axes of the two reference systems are opposite.</span>
             <span class="c1">//The position of the bubble title of the unselected label</span>
             <span class="n">itemAppearance</span><span class="o">.</span><span class="n">normal</span><span class="o">.</span><span class="n">badgeTitlePositionAdjustment</span> <span class="o">=</span> <span class="kt">UIOffset</span><span class="p">(</span><span class="nv">horizontal</span><span class="p">:</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="nv">vertical</span><span class="p">:</span> <span class="o">-</span><span class="mi">10</span><span class="p">)</span>
             <span class="c1">//The position of the bubble title of the unselected label</span>
             <span class="n">itemAppearance</span><span class="o">.</span><span class="n">selected</span><span class="o">.</span><span class="n">badgeTitlePositionAdjustment</span> <span class="o">=</span> <span class="kt">UIOffset</span><span class="p">(</span><span class="nv">horizontal</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nv">vertical</span><span class="p">:</span> <span class="mi">10</span><span class="p">)</span>
            
         <span class="k">let</span> <span class="nv">appeareance</span> <span class="o">=</span> <span class="kt">UITabBarAppearance</span><span class="p">()</span>
         <span class="c1">//Here we can apply the itemAppearance we set above to the stackedLayoutAppearance property of UITabBarAppearance()</span>
         <span class="n">appeareance</span><span class="o">.</span><span class="n">stackedLayoutAppearance</span> <span class="o">=</span> <span class="n">itemAppearance</span>
         <span class="c1">//TabBar background image</span>
         <span class="n">appearance</span><span class="o">.</span><span class="n">backgroundImage</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"test"</span><span class="p">)</span>
         <span class="c1">//TabBar background color</span>
         <span class="n">appearance</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">white</span><span class="p">)</span>
         <span class="c1">//The shadow of TabBar is the top "line"</span>
         <span class="n">appearance</span><span class="o">.</span><span class="n">shadowColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">black</span><span class="p">)</span>
         <span class="c1">//The placement format of tabItems. .automatic is the default format; .centered means to move to the middle as much as possible; .fill means to fill the TabBar as much as possible.</span>
         <span class="n">appearance</span><span class="o">.</span><span class="n">stackedItemPositioning</span> <span class="o">=</span> <span class="o">.</span><span class="n">centered</span>
         <span class="c1">//The spacing between tabItems, but the biggest effect is that it is the same as the .fill format and will not exceed the view.</span>
         <span class="n">appearance</span><span class="o">.</span><span class="n">stackedItemSpacing</span> <span class="o">=</span> <span class="mi">2000</span>

         <span class="c1">//To apply all previous settings to the view</span>
         <span class="c1">//Using this will not apply our settings for UITabBarAppearance()</span>
<span class="c1">// UITabBar.appearance().standardAppearance = appeareance</span>
         <span class="kt">UITabBar</span><span class="o">.</span><span class="nf">appearance</span><span class="p">()</span><span class="o">.</span><span class="n">scrollEdgeAppearance</span> <span class="o">=</span> <span class="n">appeareance</span>
     <span class="p">}</span>
     <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
         <span class="kt">TabView</span> <span class="p">{</span>
             <span class="kt">Text</span><span class="p">(</span><span class="s">"First Tab"</span><span class="p">)</span>
                 <span class="o">.</span><span class="nf">badge</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="cm">/* This is new in iOS 15.0 and cannot be used in previous versions */</span>
                 <span class="o">.</span><span class="n">tabItem</span> <span class="p">{</span>
                     <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"1.square.fill"</span><span class="p">)</span>
                     <span class="kt">Text</span><span class="p">(</span><span class="s">"first page"</span><span class="p">)</span>
                 <span class="p">}</span>
             <span class="kt">Text</span><span class="p">(</span><span class="s">"Another Tab"</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">tabItem</span> <span class="p">{</span>
                     <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"2.square.fill"</span><span class="p">)</span>
                     <span class="kt">Text</span><span class="p">(</span><span class="s">"Second page"</span><span class="p">)</span>
                 <span class="p">}</span>
             <span class="kt">Text</span><span class="p">(</span><span class="s">"Last Tab"</span><span class="p">)</span>
                 <span class="o">.</span><span class="nf">badge</span><span class="p">(</span><span class="mi">22</span><span class="p">)</span> <span class="cm">/* This is new in iOS 15.0 and cannot be used in previous versions */</span>
                 <span class="o">.</span><span class="n">tabItem</span> <span class="p">{</span>
                     <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"3.square.fill"</span><span class="p">)</span>
                     <span class="kt">Text</span><span class="p">(</span><span class="s">"Page 3"</span><span class="p">)</span>
                 <span class="p">}</span>
         <span class="p">}</span>
     <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The running screenshot is as follows:</p>

<p><img src="/assets/images/c1b6a04cd8af45688e50bebc5585e648.png" alt="Final Tab interface effect" /></p>

<h2 id="end">End</h2>
<p>Okay, after reading this article, I believe you can make the TabView you want~</p>

<p>​I hope these will help someone in need~</p>

        </div>
        <!-- comment by utterances -->
        <script src="https://utteranc.es/client.js"
        repo="ZhongUncle/zhonguncle.github.io"
        issue-term="url"
        theme="github-light"
        crossorigin="anonymous"
        async>
        </script>
        <!-- <div class="footer__html">
            <p>
                You can find me in: 
                <a href="https://blog.csdn.net/qq_33919450">CSDN</a>
                <a href="https://github.com/ZhongUncle">GitHub</a>
            </p>
        </div> -->
    </body>
</html>