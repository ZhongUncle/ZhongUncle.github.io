<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv='content-language' content='zh-CN'>
        <title>如何在 LaTeX 中画一个树状图（使用tikz和tikz-qtree包中的宏绘制树、森林、二叉树）</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="/assets/css/headerstyle.css" />
        <link rel="stylesheet" type="text/css" href="/assets/css/blogstyle.css" />
        <link rel="stylesheet" type="text/css" href="/assets/css/style.css" />
        <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>如何在 LaTeX 中画一个树状图（使用tikz和tikz-qtree包中的宏绘制树、森林、二叉树）</title>
<meta name="generator" content="Jekyll v4.3.1" />
<meta property="og:title" content="如何在 LaTeX 中画一个树状图（使用tikz和tikz-qtree包中的宏绘制树、森林、二叉树）" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="简单介绍 在计算机相关的文章中，树状图是最常见的几种图之一。树状图经常被用来用来演示结构、层次、算法等内容。而二叉树是最基础的树状图之一，掌握二叉树的画法就可以用图像展示一些算法或者数据结构了。" />
<meta property="og:description" content="简单介绍 在计算机相关的文章中，树状图是最常见的几种图之一。树状图经常被用来用来演示结构、层次、算法等内容。而二叉树是最基础的树状图之一，掌握二叉树的画法就可以用图像展示一些算法或者数据结构了。" />
<link rel="canonical" href="https://zhonguncle.github.io/blogs/7663922fd515e913c10584cf5fbcc149.html" />
<meta property="og:url" content="https://zhonguncle.github.io/blogs/7663922fd515e913c10584cf5fbcc149.html" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-12-01T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="如何在 LaTeX 中画一个树状图（使用tikz和tikz-qtree包中的宏绘制树、森林、二叉树）" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-12-01T00:00:00+08:00","datePublished":"2022-12-01T00:00:00+08:00","description":"简单介绍 在计算机相关的文章中，树状图是最常见的几种图之一。树状图经常被用来用来演示结构、层次、算法等内容。而二叉树是最基础的树状图之一，掌握二叉树的画法就可以用图像展示一些算法或者数据结构了。","headline":"如何在 LaTeX 中画一个树状图（使用tikz和tikz-qtree包中的宏绘制树、森林、二叉树）","mainEntityOfPage":{"@type":"WebPage","@id":"https://zhonguncle.github.io/blogs/7663922fd515e913c10584cf5fbcc149.html"},"url":"https://zhonguncle.github.io/blogs/7663922fd515e913c10584cf5fbcc149.html"}</script>
<!-- End Jekyll SEO tag -->

        <script type="text/javascript">
            (function(c,l,a,r,i,t,y){
                c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
                t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
                y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
            })(window, document, "clarity", "script", "ix8xlal10a");
        </script>
    </head>
    <body>
        <div class="stackedit__html">
            <!-- 这个文件里是用来生成导航栏的 -->
<div class="header">
    
        <a href="/index.html" class="headerItem">
            主页
        </a>
    
        <a href="/swift.html" class="headerItem">
            Swift
        </a>
    
        <a href="/unix.html" class="headerItem">
            UNIX
        </a>
    
        <a href="/c.html" class="headerItem">
            C
        </a>
    
        <a href="/assembly.html" class="headerItem">
            Assembly
        </a>
    
        <a href="/go.html" class="headerItem">
            Go
        </a>
    
        <a href="/plan9.html" class="headerItem">
            Plan 9
        </a>
    
        <a href="/web.html" class="headerItem">
            Web
        </a>
    
        <a href="/mcu.html" class="headerItem">
            MCU
        </a>
    
        <a href="/research.html" class="headerItem">
            Research
        </a>
    
        <a href="/non-tech.html" class="headerItem">
            Non-Tech
        </a>
    
</div>
            <h1>如何在 LaTeX 中画一个树状图（使用tikz和tikz-qtree包中的宏绘制树、森林、二叉树）</h1>
            <div class="bloginfo">
                <p class="info">2022-12-01 ｜ <a href="/research.html"> Research</a> ｜ 2921 字</p>
            </div>
            <!-- excerpt-start -->
<h2 id="简单介绍">简单介绍</h2>
<p>在计算机相关的文章中，树状图是最常见的几种图之一。树状图经常被用来用来演示结构、层次、算法等内容。而二叉树是最基础的树状图之一，掌握二叉树的画法就可以用图像展示一些算法或者数据结构了。</p>

<p>在 LaTeX 中，<code class="language-plaintext highlighter-rouge">tikz</code>和<code class="language-plaintext highlighter-rouge">tikz-qtree</code>两个包被用于绘制树状图，它们可以很方便的做出树状图来。
<code class="language-plaintext highlighter-rouge">tikz</code>是 LaTeX 中一个用来绘制图的包，使用 Alexis Dimitriadis’ Qtree 语法。而<code class="language-plaintext highlighter-rouge">tikz-qtree</code>则是在<code class="language-plaintext highlighter-rouge">tikz</code>的基础上做出的一个专门绘制树状图的包，比如给 Qtree 增添了很多功能，以及在 pdfTEX 和 XƎTEX 上支持<code class="language-plaintext highlighter-rouge">pst-qtree</code>。</p>

<h2 id="tikz">TikZ</h2>
<p>先来介绍一下如何在 TikZ 中绘制树状图。按照树、森林、二叉树的大致顺序介绍，因为二叉树比较简单，但是有足够展示各种使用方法。</p>

<p>如果你想查阅其他 TikZ 语法，可以查阅一个非官方的在线文档：[https://tikz.dev]。(https://tikz.dev)</p>

<h3 id="代码结构">代码结构</h3>
<p>首先，LaTeX 文件的代码结构如下：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%自定义类型和格式
\documentclass[10pt]{article}
 %导入tikz包
\usepackage{tikz}
 
\begin{document}
 
\begin{tikzpicture}
    %在这里输入绘制树的代码
\end{tikzpicture}
 
\end{document}
</code></pre></div></div>

<p>下面演示的所有的代码，除非特殊说明，不然都是放在上述结构中的<code class="language-plaintext highlighter-rouge">%在这里输入绘制树的代码</code>的位置。</p>
<h3 id="绘制一颗简单的树">绘制一颗简单的树</h3>
<p>绘制树的语句由表示树开始的<code class="language-plaintext highlighter-rouge">\node </code>、节点信息和表示一颗树结束的分号<code class="language-plaintext highlighter-rouge">;</code>组成。大括号里写的是节点名称和信息。</p>

<p>比如下面这个语句会生成一颗有四个叶节点的树：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\node 
%这里的parent是要显示的文本内容
{parent}
	%这里的child表示是子节点，而后面的child 1才是要显示的文本内容
    child {node {child 1}}
    child {node {child 2}}
    child {node {child 3}}
    child {node {child 4}}
;
</code></pre></div></div>

<p>生成效果如下：</p>

<p><img alt="简单的树" src="/assets/images/b69f313544f448b0ae512b9a1f0eaf0a.png" width="200" style="box-shadow: 0px 0px 0px 0px" /></p>

<h3 id="生成森林">生成森林</h3>
<p>上文说到，<code class="language-plaintext highlighter-rouge">\node </code>表示树的开始，分号<code class="language-plaintext highlighter-rouge">;</code>表示树的结束。所以直接有几棵树写几段树的语句即可。只需要注意森林中每棵树的位置即可。</p>

<p>例如：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\node 
{parent}
    child {node {child 1}}
    child {node {child 2}}
    child {node {child 3}}
    child {node {child 4}}

;

\node at (0,2)
{z}
    child {node {a}}
    child {node {b}}
    child {node {3}}
    child {node {4}}
;
</code></pre></div></div>

<p>生成的森林如下：</p>

<p><img alt="森林" src="/assets/images/9d89007407e1467ba989e1751a2c0863.png" width="200" style="box-shadow: 0px 0px 0px 0px" /></p>

<h3 id="绘制基础的二叉树">绘制基础的二叉树</h3>
<p>一棵基础的二叉树由一个父节点和两个字节点构成，生成代码如下：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\node 
{parent}
    child {node {child 1}}
    child {node {child 2}}
;
</code></pre></div></div>

<p>效果如下：</p>

<p><img alt="简单的二叉树" src="/assets/images/bcee30a45690419097ff14e9767447dd.png" width="200" style="box-shadow: 0px 0px 0px 0px" /></p>

<h3 id="自定义某部分的颜色">自定义某部分的颜色</h3>
<p>如果想自定义颜色，在父节点类型<code class="language-plaintext highlighter-rouge">{parent}</code>前面或子节点类型名称<code class="language-plaintext highlighter-rouge">child</code>后面加个<code class="language-plaintext highlighter-rouge">[]</code>，然后将颜色写在其中。</p>

<p>比如说用红色标记父节点：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\node 
[red]{parent}
    child {node {child 1}}
    child {node {child 2}}
;
</code></pre></div></div>

<p>效果如下：</p>

<p><img alt="自定义树某个部分的颜色" src="/assets/images/d0773fc7439f4d71a745f81fc5725251.png" width="200" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>再比如说用红色标记左子节点：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\node 
{parent}
    child [red]{node {child 1}}
    child {node {child 2}}
;
</code></pre></div></div>

<p>效果如下：</p>

<p><img alt="左子节点为红色的树" src="/assets/images/7752913f8cd143faa6ebbc65f6a087bc.png" width="200" style="box-shadow: 0px 0px 0px 0px" /></p>

<h3 id="线的样式">线的样式</h3>
<p>可以使用下面代码来调整树中线段的样式，比如实线、虚线等。</p>

<p>默认情况下，线段是实线，但是如果要把上面这个树的右节点的线段从实线换成虚线，那么可以使用下面的语句来实现：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\node 
{parent}
    child [red] {node {child 1}}
    child {node {child 2} edge from parent [dashed]}
;
</code></pre></div></div>

<p>效果如下：</p>

<p><img alt="连接右子节点的线段为虚线的树" src="/assets/images/5dc3d85336604195a7834f3858c56024.png" width="200" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>别看这里很简单，但是支持或可以实现的样式非常非常多，这里细说太冗余了，还请移步：<a href="https://tikz.dev/tikz-actions">https://tikz.dev/tikz-actions</a>。</p>

<h3 id="节点样式">节点样式</h3>
<p>绘制内容简单的树状图的时候，一般都会用在节点外围画一个圆，那么可以在父节点类型<code class="language-plaintext highlighter-rouge">{parent}</code>前面或子节点类型名称<code class="language-plaintext highlighter-rouge">child</code>后面加个<code class="language-plaintext highlighter-rouge">[]</code>，在其中加上<code class="language-plaintext highlighter-rouge">draw</code>和要形状等属性信息（如果有的话），从而来为前文绘制的二叉树添加圆圈。如下：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\node
[draw, circle] {parent}
    child {node[draw, circle] {child 1}}
    child {node[draw, circle] {child 2}}
;
</code></pre></div></div>

<p>效果如下：</p>

<p><img alt="给节点添加圆圈" src="/assets/images/9638bd9c8123404a8be76c97fe973223.png" width="200" style="box-shadow: 0px 0px 0px 0px" /></p>

<h3 id="绘制复杂二叉树嵌套使用">绘制复杂二叉树（嵌套使用）</h3>
<p>二叉树不可能只有这种基础组成，所以还要来嵌套使用。而嵌套就是在某个子节点中（也就是大括号中<code class="language-plaintext highlighter-rouge">{}</code>），写它的子节点。看看下面的例子你就能懂了：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\node {parent}
    child {node {1}} 
    child {
      node {2}
        child {node {3}}
        child {node {4}}
    }
;
</code></pre></div></div>

<p>生成的二叉树效果如下：</p>

<p><img alt="复杂二叉树" src="/assets/images/d5b94026cb5741d7b6d4a7293e48726f.png" width="200" style="box-shadow: 0px 0px 0px 0px" /></p>

<h2 id="tikz-qtree">tikz-qtree</h2>
<p>可以看到，使用<code class="language-plaintext highlighter-rouge">tikz</code>包画复杂的树很很麻烦，要打一堆<code class="language-plaintext highlighter-rouge">node</code>、<code class="language-plaintext highlighter-rouge">child</code>等词，所以<code class="language-plaintext highlighter-rouge">tikz-qtree</code>进行了改进，使用简单的语法即可画出复杂的树。</p>

<h3 id="代码结构-1">代码结构</h3>
<p>首先，LaTeX 文件的代码结构如下：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%自定义类型和格式
\documentclass[10pt]{article}
 %导入tikz包和tikz-qtree包（因为后者是基于前者，所以必须两个都导入）
\usepackage{tikz}
\usepackage{tikz-qtree}
 
\begin{document}
 
\begin{tikzpicture}
    %在这里输入绘制树的代码
\end{tikzpicture}
 
\end{document}
</code></pre></div></div>

<p>下面演示的所有的代码，除非特殊说明，不然都是放在上述结构中的<code class="language-plaintext highlighter-rouge">%在这里输入绘制树的代码</code>的位置。</p>

<h3 id="绘制一颗简单的树-1">绘制一颗简单的树</h3>
<p><code class="language-plaintext highlighter-rouge">tikz-qtree</code>画一棵树非常简单。</p>

<p>树的开头使用<code class="language-plaintext highlighter-rouge">\Tree</code>表示开始。方括号<code class="language-plaintext highlighter-rouge">[</code>和<code class="language-plaintext highlighter-rouge">]</code>用来划分出<strong>子树</strong>，句点<code class="language-plaintext highlighter-rouge">.</code>表示<strong>子树的根</strong>。语句如下（<strong>需要注意的是，子树的根节点后面就算没有节点了，但是也要加空格</strong>）：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\Tree
[.1
[.2 ] [.3 ] [.4 ] [.5 ] 
]
</code></pre></div></div>

<p>生成树如下：</p>

<p><img alt="简单的树" src="/assets/images/446e532556484aa388fa7c22f3805440.png" width="200" style="box-shadow: 0px 0px 0px 0px" /></p>

<h3 id="生成森林-1">生成森林</h3>
<p><code class="language-plaintext highlighter-rouge">tikz-qtree</code>生成森林的方式和<code class="language-plaintext highlighter-rouge">tikz</code>不一样，因为一个<code class="language-plaintext highlighter-rouge">tikzpicture</code>作用域中只能有一颗树。所以要写在多个<code class="language-plaintext highlighter-rouge">tikzpicture</code>中。如果想水平摆放，可以直接连着写：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%自定义类型和格式
\documentclass[10pt]{article}
 %导入tikz包和tikz-qtree包（因为后者是基于前者，所以必须两个都导入）
\usepackage{tikz}
\usepackage{tikz-qtree}
 
\begin{document}
 
\begin{tikzpicture}
    \Tree
[.1
[.2 ] [.3 ] [.4 ] [.5 ] 
]
\end{tikzpicture}

\begin{tikzpicture}
    \Tree
[.1
[.2 ] [.3 ] [.4 ] [.5 ] 
]
\end{tikzpicture}
 
\end{document}
</code></pre></div></div>

<p>生成效果如下：</p>

<p><img alt="森林" src="/assets/images/2e04932452774154ba8dff8c9cf38f04.png" width="200" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>如果想指定树叶的方向和排列位置，可以在<code class="language-plaintext highlighter-rouge">tikzpicture</code>后面加上<code class="language-plaintext highlighter-rouge">[grow=]</code>或<code class="language-plaintext highlighter-rouge">[grow'=]</code>来指定，参数为<code class="language-plaintext highlighter-rouge">up</code>、<code class="language-plaintext highlighter-rouge">down</code>、<code class="language-plaintext highlighter-rouge">left</code>、<code class="language-plaintext highlighter-rouge">right</code>来表示开口向上下左右方向。
并且这两种参数不太一样，</p>
<ol>
  <li><code class="language-plaintext highlighter-rouge">[grow=]</code>是逆时针排列子节点；</li>
  <li><code class="language-plaintext highlighter-rouge">[grow'=]</code>是顺时针排序子节点。</li>
</ol>

<p>不仅是为了方便理解，还因为这个使用有点特殊。如果想两棵树并排，那需要在两个节点之间使用百分号<code class="language-plaintext highlighter-rouge">%</code>。下面来举几个例子来详细说明一下。</p>

<p>下面语句会生成上下排列、子节点逆时针排列的两个二叉树：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\begin{tikzpicture}[grow'=up]
\Tree
[.1
[.2 ] [.3 ]
]
\end{tikzpicture}

\begin{tikzpicture}[grow'=down]
\Tree
[.1
[.2 ] [.3 ]
]
\end{tikzpicture}
</code></pre></div></div>

<p>生成图如下：</p>

<p><img alt="上下排列、子节点逆时针排列的两个二叉树" src="/assets/images/d433e5c84d0b455bb812df835efd2ec2.png" height="200" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>但是给语句中间加上百分号<code class="language-plaintext highlighter-rouge">%</code>，那就会得到并列的树：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\begin{tikzpicture}[grow'=up]
\Tree
[.1
[.2 ] [.3 ]
]
\end{tikzpicture}
%
\begin{tikzpicture}[grow'=down]
\Tree
[.1
[.2 ] [.3 ]
]
\end{tikzpicture}
</code></pre></div></div>

<p><img alt="并列的树" src="/assets/images/e52b33474f864fa8b3910cfa7bc74854.png" width="200" style="box-shadow: 0px 0px 0px 0px" /></p>

<h3 id="绘制基础的二叉树-1">绘制基础的二叉树</h3>
<p>上文已经看到了，绘制二叉树只用很简单的结构即可。<code class="language-plaintext highlighter-rouge">.</code>开头的表示跟节点，下面每个叶节点用方括号<code class="language-plaintext highlighter-rouge">[]</code>包裹起来：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\begin{tikzpicture}
\Tree
[.1
[.2 ] [.3 ]
]
\end{tikzpicture}
</code></pre></div></div>

<h3 id="线的样式-1">线的样式</h3>
<p>没有那么丰富的自定义功能，但是可以支持调整线的粗细、样式等属性。</p>

<p>如果想加粗所有的线和节点，就使用以下语句：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\tikzset{edge from parent/.append style={very thick}}
</code></pre></div></div>

<p>例如：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\begin{tikzpicture}
\tikzset{edge from parent/.append style={very thick}}

\Tree
[.1
[.2 ] [.3 ]
]
\end{tikzpicture}
</code></pre></div></div>

<p><img alt="加粗树" src="/assets/images/8cd24c59977f4d20b8dfd41fba5fdc5a.png" height="200" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>虚线的话将<code class="language-plaintext highlighter-rouge">[dashed]</code>加在<code class="language-plaintext highlighter-rouge">\begin{tikzpicture}</code>后面，如下：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\begin{tikzpicture}[dashed]
\Tree
[.1
[.2 ] [.3 ]
]
\end{tikzpicture}
</code></pre></div></div>

<p><img alt="虚线树" src="/assets/images/40e32c67975b41b8953aa0c34bb184de.png" height="200" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>如果想带箭头，那么将<code class="language-plaintext highlighter-rouge">[semithick,-&gt;]</code>加在<code class="language-plaintext highlighter-rouge">\begin{tikzpicture}</code>后面，如下：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\begin{tikzpicture}[semithick,-&gt;]
\Tree
[.1
[.2 ] [.3 ]
]
\end{tikzpicture}
</code></pre></div></div>

<p><img alt="带箭头的树" src="/assets/images/795bd82b473c45468efbd9653bc872ed.png" height="200" style="box-shadow: 0px 0px 0px 0px" /></p>

<h3 id="节点样式-1">节点样式</h3>
<p>如何加粗节点上一节提到了，使用<code class="language-plaintext highlighter-rouge">\tikzset{edge from parent/.append style={very thick}}</code>，那么如何给节点加圆圈呢？</p>

<p>只能一个个节点加圆圈，使用以下结构和语句：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\begin{tikzpicture}
\Tree
[.1
[.2 ] [.\node[draw, circle]{3}; ]
]
\end{tikzpicture}
</code></pre></div></div>

<p><img alt="给节点加圆圈" src="/assets/images/ad7ddf74db8f4b3abb28e79515a80ea7.png" height="200" style="box-shadow: 0px 0px 0px 0px" /></p>

<h3 id="绘制复杂二叉树嵌套使用-1">绘制复杂二叉树（嵌套使用）</h3>
<p><code class="language-plaintext highlighter-rouge">tikz-qtree</code>来绘制复杂的二叉树就很容易了，就是需要注意大括号闭合。
中括号<code class="language-plaintext highlighter-rouge">[]</code>包含每个节点和其子节点。<code class="language-plaintext highlighter-rouge">.</code>表示根节点，后面跟的是其子节点。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\begin{tikzpicture}
\Tree
[.1
[.2 [.3 ] ] 
[.4 [5 6 ] ] 
]
\end{tikzpicture}
</code></pre></div></div>

<p><img alt="复杂二叉树" src="/assets/images/512903ec25af4330be59a99c74a62173.png" height="200" style="box-shadow: 0px 0px 0px 0px" /></p>

<p>希望能帮到有需要的人～</p>

        </div>
    </body>
</html>