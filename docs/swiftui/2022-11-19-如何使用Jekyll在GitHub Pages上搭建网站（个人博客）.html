<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>如何使用jekyll在github pages上搭建网站（个人博客）</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="/assets/css/blogslist.css" />
        <link rel="stylesheet" type="text/css" href="/assets/css/headerstyle.css" />
        <link rel="stylesheet" type="text/css" href="/assets/css/blogstyle.css" />
        <style type="text/css">

        </style>
    </head>
    <body>
        <div class="stackedit__html">
            <!-- 这个文件里是用来生成头栏的 -->
<div class="header">
    
        <a href="/index.html" class="headerItem">
            主页
        </a>
    
        <a href="/swiftui.html" class="headerItem">
            SwiftUI
        </a>
    
        <a href="/unix.html" class="headerItem">
            UNIX
        </a>
    
</div>
            <h1>如何使用jekyll在github pages上搭建网站（个人博客）</h1>
            <div class="bloginfo">
                <p class="info">2022-11-19 <a href=""></a></p>
                
            </div>
            
            <p><strong>本文很长，建议使用侧边栏进行跳转。</strong></p>

<p>Jekyll 是一个基于 Ruby 语言的，用于搭建静态网站的生成器，主要用于搭建博客网站（官方自己的介绍为：Jekyll is a blog-aware, static site generator in Ruby）。但是虽然是静态网站，但是可以实现一些使用数据库的动态网站的效果和功能，是很不错的一个框架。官网为：<a href="https://jekyllrb.com">https://jekyllrb.com</a>。</p>

<p>虽然 Jekyll 官网提供了教学 <a href="https://jekyllrb.com/docs/step-by-step/01-setup/">《step-by-step》</a>，GitHub 也提供了教学<a href="https://docs.github.com/cn/pages/setting-up-a-github-pages-site-with-jekyll/about-github-pages-and-jekyll">《About Github Pages and Jekyll》</a>，但是二者需要交叉起来看，所以这个框架还是有点简单并且复杂的。并且有一些细节没有提到。
因此，写此文来记录一下。</p>

<p>本文将利用 GitHub Pages 和 Jekyll 搭建一个博客网站，这也是 GitHub 推荐的搭配。<strong>但是本文不阐述 Jekyll 的原理，只讲步骤。</strong> 因为这样看上去简洁一点，如果你对其他相关内容可以阅读下面列出的我的其他博客：</p>
<ul>
  <li>如果想查看 Jekyll 的原理、机制和结构等内容，等还请移步另外一篇博客：<a href="https://blog.csdn.net/qq_33919450/article/details/127886006">《Jekyll 的机制、转换步骤和结构介绍》</a></li>
  <li>如果想快速查看一些常用的 Jekyll 命令还请移步：<a href="https://blog.csdn.net/qq_33919450/article/details/127886698">《Jekyll 选项（options）和子命令（subcommand）小手册》</a></li>
  <li>如果想快速查看一些常用的 Jekyll 语句和结构还请移步：<a href="https://blog.csdn.net/qq_33919450/article/details/127886698">《Jekyll 选项（options）和子命令（subcommand）小手册》</a></li>
</ul>

<h2 id="准备工作">准备工作</h2>
<h3 id="安装jekyll">安装Jekyll</h3>
<p>Jekyll 安装方式非常简单，只要在终端/命令行输入以下命令即可：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem <span class="nb">install </span>jekyll bundler
</code></pre></div></div>
<p>安装完毕之后，可以使用下面这条命令来查看安装的版本：</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>jekyll <span class="nt">-v</span>
jekyll 4.3.1
</code></pre></div></div>
<h3 id="创建并设置github-pages">创建并设置GitHub pages</h3>
<h4 id="创建github-pages">创建GitHub pages</h4>
<p>安装完之后，就要创建并且设置一下 GitHub Pages 了。</p>

<p>创建 GitHub Pages 的方法很简单：</p>
<ol>
  <li>首先，创建一个名为<code class="language-plaintext highlighter-rouge">用户名.github.io</code>的 GitHub 仓库（用户名不区分大小写）；</li>
  <li>然后将这个空仓库克隆到本地。</li>
</ol>

<p>这个时候就已经创建完毕了，可以通过<code class="language-plaintext highlighter-rouge">https://用户名.github.io</code>来访问了，并且可以像普通的 Git 项目一样进行处理和推送了（不过由于是空项目，所以不会显示什么，感兴趣可以自己推送一个网页看看）。</p>

<h4 id="设置github-pages">设置GitHub pages</h4>
<p>接下来还要调整一下该仓库的一些设置，来方便后续的工作流程。</p>

<p>在该仓库的设置界面，点开“Settings”-&gt;“Pages”界面，然后在“Branch”部分选择自己想要的分支（这里是默认的<code class="language-plaintext highlighter-rouge">main</code>分支），然后选择<code class="language-plaintext highlighter-rouge">/docs</code>文件夹。这样<code class="language-plaintext highlighter-rouge">https://用户名.github.io</code>就会只显示<code class="language-plaintext highlighter-rouge">/docs</code>文件夹下的内容，而不是根文件。如下：
<img src="https://img-blog.csdnimg.cn/c3d6cb5194324d4382c0073b3b8b3835.png" alt="请添加图片描述" /></p>
<h3 id="创建配置jekyll的_configyml文件">创建配置Jekyll的_config.yml文件</h3>
<p>如果你是一个细心的人，会发现默认的空白仓库中是没有<code class="language-plaintext highlighter-rouge">docs</code>这个文件夹的。所以是需要我们手动创建的，但是 Jekyll 生成的文件夹在默认情况下是叫<code class="language-plaintext highlighter-rouge">_site</code>，这该怎么办呢？
如果你经常使用终端/命令行，那一定很熟悉 UNIX 命令格式<code class="language-plaintext highlighter-rouge">命令 -选项 参数</code>，如果你使用这种常规格式就会发现没有效果。这是因为 Jekyll 的命令并不是 UNIX 命令格式，它的参数需要去访问特定文件获得，而这个文件便是<code class="language-plaintext highlighter-rouge">_config.yml</code>。</p>

<p>所以，我们在克隆到本地的空白仓库中创建一个名为<code class="language-plaintext highlighter-rouge">_config.yml</code>的文件（也就是仓库的根目录下），然后输入以下内容：</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>destination: docs
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">destination</code>参数表示生成的目的文件夹名称。</p>

<p>更多的参数可以查看官方文档：<a href="https://jekyllrb.com/docs/configuration/options/">https://jekyllrb.com/docs/configuration/options/</a></p>

<p>到这里，准备工作基本上已经完成，可以开始了。</p>

<h2 id="一个简单的开始了解工作流程">一个简单的开始（了解工作流程）</h2>
<p>首先来进行一个简单的开始，了解体会一下 Jekyll 的工作流程。</p>

<h3 id="创建修改文件">创建/修改文件</h3>
<p>第一步，和所有网站一样，创建一个<code class="language-plaintext highlighter-rouge">index.html</code>文件（可以理解成开发的过程），内容如下：</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
	<span class="nt">&lt;head&gt;</span>
	    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;</span>
	    <span class="nt">&lt;title&gt;</span>Home<span class="nt">&lt;/title&gt;</span>
  	<span class="nt">&lt;/head&gt;</span>
  	<span class="nt">&lt;body&gt;</span>
    	<span class="nt">&lt;h1&gt;</span>Hello World!<span class="nt">&lt;/h1&gt;</span>
  	<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>
<p>这是一个很简单的纯 HTML 文件，没有使用到 Jekyll 语句，但是作为理解工作流程非常有效。</p>

<h3 id="生成静态网站">生成静态网站</h3>
<p>在开发完成之后，使用终端，在仓库目录下，输入以下命令来生成我们所需的静态网站：</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll build
</code></pre></div></div>
<p>这时候就可以发现，原本只有<code class="language-plaintext highlighter-rouge">index.html</code>和<code class="language-plaintext highlighter-rouge">_config.yml</code>2个文件的文件夹中，多了一个名为<code class="language-plaintext highlighter-rouge">docs</code>的文件夹。点开可以发现，内容就是生成的静态网站。
如果之前没有在<code class="language-plaintext highlighter-rouge">_config.yml</code>文件中进行设置，那么这里生成的文件夹应该名为<code class="language-plaintext highlighter-rouge">_site</code>。</p>

<h3 id="在本地进行开发和演示">在本地进行开发和演示</h3>
<p>但是此时你可能会想：“我每次开发完都得重新生成一次静态网站，这样如果检查细节上的修改，不得烦死人啊！而且检查网站还得搭建一个本地服务器”</p>

<p>Jekyll 也考虑到这点，所以需要使用下面这条简单的命令，即可满足需求：</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll serve
</code></pre></div></div>

<p>这个命令将会在<code class="language-plaintext highlighter-rouge">http://localhost:4000</code>运行一个本地网络服务器，并且实时进行重新生成，而不用自己去搭建服务器和手动重新生成。</p>

<h3 id="完成开发之后进行推送">完成开发之后进行推送</h3>
<p>在完成开发之后，就可以进行常规的提交推送了。这里专门写一节是因为这里有几个问题要说一下。</p>

<p>第一，如果你使用的是终端，那么有时候会有一些大范围的修改，导致<code class="language-plaintext highlighter-rouge">commit</code>的时候需要手动删掉很多<code class="language-plaintext highlighter-rouge">#</code>，很麻烦，所以建议使用<code class="language-plaintext highlighter-rouge">git commit -am</code>来跳过文本编辑器。</p>

<p>第二，每次提交推送还是有点麻烦，建议写个脚本，这样就只用输入一个单词，再输入一次密码即可。脚本内容如下：</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

jekyll build
git add <span class="nb">.</span>
git commit <span class="nt">-am</span>
git push myblog main
</code></pre></div></div>
<p><strong><code class="language-plaintext highlighter-rouge">myblog</code>部分记得改成你的仓库的地址，分支如果不是<code class="language-plaintext highlighter-rouge">main</code>也要记得更改。</strong></p>

<h2 id="确定网站设计">确定网站设计</h2>
<p>在会基础的 Jekyll 工作流程之后，就需要确定博客网站需要哪些部分和内容，例如主页上显示什么，需不需要各种专栏等等内容。然后我们就针对每个功能和内容进行开发即可。</p>

<p>首先确定一下博客网站需要哪几种页面。思考一下发现就需要三种：主页、博客专栏页面、博客内容页面。</p>

<p>然后就是思考设计。作为非 UI 专业人士，这里使用 Procreate 绘制一个大概的图，明白什么意思即可。
主页设计如下：
<img src="https://img-blog.csdnimg.cn/56e37abb2ec246768bd2f651ab4b05f1.png" alt="请添加图片描述" /></p>

<p>专栏页面的设计如下：<img src="https://img-blog.csdnimg.cn/8f18f81d05fc4717a11c474932ebe9a0.png" alt="请添加图片描述" /></p>

<p>博客页面的设计如下：
<img src="https://img-blog.csdnimg.cn/492b89267351493aae4c92a221e30961.png" alt="请添加图片描述" /></p>

<p>这里使用两种 CSS</p>

        </div>
    </body>
</html>