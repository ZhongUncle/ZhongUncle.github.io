---
layout: article
category: C
date: 2023-05-03
title: "使用 nvcc 的时候出现“helper_cuda.h”: No such file or directory错误该怎么办（其他xxx.h也是同样的解决方法）"
---
<!-- excerpt-start -->
今天在命令行中使用`nvcc`的时候，出现了`“helper_cuda.h”: No such file or directory`错误。这个错误信息表示：在编译的时候，找不到`helper_cuda.h`头文件（其他`xxx.h`如果也找不到，那么下面的解释和解决方法也通用）。

出现这个问题的原因是，大多数编译器寻找头文件的方法就一种：在环境变量中设置的目录下去找这个头文件。如果环境变量中存放的目录下没有这个头文件，就找不到了。甚至就没有创建或设置好这个环境变量，那更不可能找到了。不论使用何种编译器，这种问题都是常见问题之一。
`nvcc`就是后者，我没有在文档和帮助文件中找到任何环境变量的信息，而且把头文件复制到`.cu`源代码文件的目录下也不行（但是`.hpp`好像可以）。**官方的意思是在编译命令中加入选项，用路径作为参数，来指出或者搜索头文件。** 个人感觉，如果对于小程序或者短期项目这个方法要好很多，因为这样不会弄乱环境变量，也可以很轻松地自定义编译的设置，不会造成混乱。但是长期项目就有点麻烦，但是也是有解决方法的，大不了自己设置一个环境变量，作为编译的搜索选项的参数，每次修改这个环境变量也可以。

解决方法就是要让编译器找到这些头文件。这里我们假设机器上是有头文件的，如果机器上真的没有这些头文件，那么去代码源好好寻找一下，问一问作者。

`nvcc`的头文件一般放在一个名为`Common`的文件夹里（有可能是小写的`common`）。该文件夹是存放库文件，如下：

![请添加图片描述](/assets/images/ac93311725a04368a8b929f49480f618.png)

可以看到这些就是要找的头文件们，接下来让`nvcc`能找到他们即可。上文提到，`nvcc`需要使用`-I 参数`来指定头文件或者搜索特定目录，方法如下：

```
# 在指定目录下查找头文件等库文件，下面的
nvcc.exe -I 目录 源代码文件路径
```

以上图举例，目录为`E:\testcuda\cuda-samples-master\Common\`，源代码文件路径为`.\bandwidthTest.cu`，使用命令如下：

```
nvcc.exe -I E:\testcuda\cuda-samples-master\Common\ .\bandwidthTest.cu
```

这样就可以正常编译了。希望能帮到有需要的人～